<html>
	<head>
		<% include header %>
	</head>
	<body class="claro patric">
		<% include p3header %>
		<div class="RegistrationForm" style="width:640px;margin-left:auto;margin-right:auto;font-size:1.1em;margin-bottom:10px;margin-top:10px;padding:10px;border: 2px solid #ababab; border-radius: 4px;">
			<h2 style="margin:0px;padding:4px;font-size:1.2em;text-align:center;background:#eee;">PATRIC User Registration</h2>
			<form method="post" data-dojo-type="dijit/form/Form">
			
				<div style="padding:2px; margin:10px;">
				<table>
					<tbody>
						<tr><th>USERNAME</th></tr>

						<tr>
							<td>
								<input type="text" name="username"/ data-dojo-type="dijit/form/ValidationTextBox" style="width:150px;" data-dojo-props='placeholder:"username",promptMessage:"Enter your desired Username",regExp:"[\\w]+",invalidMessage:"Invalid non-space text" ' required="true" value="<%= (error && error.message && error.message.match(/username/gi) && formData && formData.username)?"":(formData&&formData.username)?formData.username:"" %>">
							</td>
						</tr>
							<tr><th>FIRST NAME</th><th>LAST NAME</th></tr>

						<tr>
							<td>
								<input type="text" name="first_name"/ data-dojo-type="dijit/form/ValidationTextBox" style="width:300px;" data-dojo-props='placeholder:"Your First Name",promptMessage:"Enter your First Name",trim:true' required="false" value="<%= (formData&&formData.first_name)?formData.first_name:"" %>">
							</td>
							<td> 
								<input type="text" name="last_name"/ data-dojo-type="dijit/form/ValidationTextBox" style="width:300px;" data-dojo-props='placeholder:"Your last Name",promptMessage:"Enter your Last Name",trim:true' required="false" value="<%= (formData&&formData.last_name)?formData.last_name:"" %>">
							</td>
						</tr>
						<tr><th colspan="1">EMAIL ADDRESS</th></tr>

						<tr>
							<td colspan="1"><input type="text" name="email"/ data-dojo-type="dijit/form/ValidationTextBox" style="width:100%;" data-dojo-props='placeholder:"Email Address",promptMessage:"Enter your Email Address",invalidMessage:"Invalid Email Address",validator:dojox.validate.isEmailAddress,trim:true' required="true" value="<%= (error && error.message && error.message.match(/email/gi))?"":(formData&&formData.email)?formData.email:""%>" >
							</td>
						</tr>
						<tr><th colspan="2">ORGANIZATION</th></tr>
						<tr><td colspan="2"><div style="width:100%" data-dojo-type="dijit/form/TextBox" name="affiliation" value="<%= (formData&&formData.affiliation)?formData.affiliation:"" %>"></div></td></tr>
						<tr><th colspan="2">ORGANISMS</th></tr>
						<tr><td colspan="2"><div name="organisms" data-dojo-type="dijit/form/Textarea"><%= (formData&&formData.organisms)?formData.organisms:"" %></div></td></tr>
						<tr><th colspan="2">INTERESTS</th></tr>
						<tr><td colspan="2"><div rows="5" name="interests" style="height:75px;"  data-dojo-type="dijit/form/Textarea"><%= (formData&&formData.interests)?formData.interests:"" %></div></td></tr>
					</tbody>
				</table>				
				</div>
				<% if (error) { %>
					<div style="text-align:center; padding;2px;margin:10px;color: red">
						<%= error.message %>
					</div>
				<% } %>
				<div style="text-align:center;padding:2px;margin:10px;">
					<div type="submit" value="Register" data-dojo-type="dijit/form/Button">Register New User</div>
				</div>
			</form>
		</div>
		<% include javascript %>
	</body>
</html>
